import { ParamItem } from './admin-panel/ParamsTable'

const htmlEscapesMap: any = {
	'&': '&amp;',
	'<': '&lt;',
	'>': '&gt;',
	'"': '&quot;',
	"'": '&#39;',
}

export const escapeHtml = (input: string): string => {
	return Object.keys(htmlEscapesMap).reduce((acc, search) => acc.replaceAll(search, htmlEscapesMap[search]), input)
}

interface ParamsObject {
	[key: string]: string
}

export const mapParamsToObject = (params: ParamItem[]): ParamsObject =>
	params
		.filter((i) => i.isChecked)
		.filter((i) => i.key || i.value)
		.reduce((acc, i) => ({ ...acc, [i.key]: i.value }), {})
